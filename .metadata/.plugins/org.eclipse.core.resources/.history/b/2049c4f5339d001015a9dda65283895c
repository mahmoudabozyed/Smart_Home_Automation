/******************************************************************************
*
* Module: PWM
*
* File Name: PWM.c
*
* Description: Source file for the PWM driver
*
* Author: Mahmoud Abouzied
*
*******************************************************************************/

#include "PWM.h"
#include "avr/io.h"

void PWM_Timer0_Start(uint8 duty_cycle) {
    TCNT0 = 0;
    OCR0 = (duty_cycle * PWM_MAX_VALUE) / PWM_OFFSET;
    TCCR0 = (1<<WGM00) | (1<<WGM01) | (1<<COM01) | (1<< CS00) | (1<< CS02);
}
